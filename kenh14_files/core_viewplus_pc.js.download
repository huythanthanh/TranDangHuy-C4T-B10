function core_vplus_pc(r,t){var d=this;this.zoneid=r.ZONEID;this.sendz=!1;this.logCid="";this.cnt=1;this.banLog=[];this.logview=[];this.channel=document.location.href;this.trackI=ADS_CHECKER.getQuery("i");this.buildCss=function(b){var c=document.createElement("style");c.type="text/css";document.getElementsByTagName("head")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText=b:c.appendChild(document.createTextNode(b))};this.capitaliseFirstLetter=function(b){return b.charAt(0).toUpperCase()+b.slice(1)};
this.fromHtmlEntities=function(b){return(b+"").replace(/&#\d+;/gm,function(b){return String.fromCharCode(b.match(/\d+/gm)[0])})};this.getSubString=function(b,c){var f=d.fromHtmlEntities(b),e=f;f.length>c&&(e=f.substr(0,c-4),f=e.lastIndexOf(" "),e=e.substr(0,f),e+="...");return e};this.checkArrLocation=function(b,c){var d=c.split(","),e;for(e in d)if(e==b)return!0;return!1};this.getCookie=function(b){if(0<document.cookie.length){var c=document.cookie.indexOf(b+"=");if(-1!=c)return c=c+b.length+1,b=
document.cookie.indexOf(";",c),-1==b&&(b=document.cookie.length),unescape(document.cookie.substring(c,b))}return""};this.checkCookie=function(b){return"undefined"!=typeof d.getCookie(b)&&""!=d.getCookie(b)?d.getCookie(b):null};this.toArray=function(b){var c=[],d;for(d in b)c.push(b[d]);return c};this.arrangeItems=function(b){var c=[],f=-1,e=[];""!=d.trackI&&(f=Math.floor(Math.random()*(b.length>=t?t:b.length)));if(0<b.length){for(var g=[],h=[],l=0,m=0;m<b.length;m++){var k=b[m];h.push(k.r);e.push(k.bid);
g.push(m);l++}for(m=0;m<b.length&&!(l<m);m++){var n=0;k=[0];for(var p=!1,q=0;q<h.length;q++)n+=h[q],k.push(n);q=n*Math.random();if(""!=e&&m===f)for(n=0;n<e.length;n++)d.trackI===e[n]&&(c.push(g[n]),g.splice(n,1),h.splice(n,1),e.splice(n,1),p=!0);if(!p)for(p=1;p<=h.length;p++)k[p]>q&&k[p-1]<q&&(c.push(g[p-1]),g.splice(p-1,1),h.splice(p-1,1),e.splice(p-1,1))}}f=[];for(q=0;q<c.length;q++)f.push(b[c[q]]);return f};this.filtering=function(){var b=d.toArray(r.DATA["1"]),c=d.checkCookie("__R"),f=d.checkCookie("__RC"),
e=[],g=[];if(0<b.length)for(var h=0;h<b.length;h++){var l=b[h].l;if(d.checkArrLocation(c,l)||d.checkArrLocation(f,l)||""==l||null==l)3==b[h].bannertype&&1==b[h].hidden_ads_stats?g.push(b[h]):e.push(b[h])}return{cpc_cpm:e,cpd:g}};this.setCookieProduct=function(b){var c=[],f="",e="",g=!1,h=!1,l=0;if(null==d.checkCookie("adm_vplus_"+d.zoneid))g=!0;else for(var m=d.getCookie("adm_vplus_"+d.zoneid).split(","),k=0;k<m.length;k++)-1<m[k].indexOf("cpd")&&l++,-1<m[k].indexOf("_false")?(c.push(m[k]),h=!0):
f+=m[k]+",";if(g||!h||l!=b)for(f="",c=[],k=0;3>k;k++)k<b?c.push("cpd_false"):c.push("cpc_cpm_false");b=Math.floor(Math.random()*c.length);if(0<c.length){for(k=0;k<c.length;k++)k===b?(e=c[k].replace("_false",""),f+=c[k].replace("_false","_true")+","):f+=c[k]+",";document.cookie="adm_vplus_"+d.zoneid+" = "+f.slice(0,-1)}return e};this.dataItem=function(){var b=d.filtering(),c=[];if("undefined"!=typeof b&&null!=b&&""!=b&&"object"===typeof b){if(0<b.cpd.length){if(2<b.cpd.length||0===b.cpc_cpm.length)c=
d.checkCpd(b.cpd);if(1<=b.cpd.length&&2>=b.cpd.length&&0<b.cpc_cpm.length){var f=d.setCookieProduct(b.cpd.length);"cpd"===f&&(c=d.checkCpd(b.cpd));"cpc_cpm"===f&&(c=d.arrangeItems(b.cpc_cpm))}}0<b.cpc_cpm.length&&0===b.cpd.length&&(c=d.arrangeItems(b.cpc_cpm))}return c};this.checkCpd=function(b){for(var c=[],f=d.getCookie("adm_cpd_vplus_"+d.zoneid).split(","),e=0;e<b.length;e++){var g=!1;if(null!=d.checkCookie("adm_cpd_vplus_"+d.zoneid)&&0<f.length)for(var h=0;h<f.length;h++)if(f[h]===b[e].bid){g=
!0;break}g||c.push(b[e])}0===c.length&&(c=b);return c};this.setCookieBanner=function(b){if(null==d.checkCookie("adm_cpd_vplus_"+d.zoneid))document.cookie="adm_cpd_vplus_"+d.zoneid+" = "+b;else{var c=d.getCookie("adm_cpd_vplus_"+d.zoneid),f=c.split(","),e=!1;if(""!=b){for(var g=0;g<f.length;g++)if(f[g]===b){e=!0;break}document.cookie=e?"adm_cpd_vplus_"+d.zoneid+" = "+b:"adm_cpd_vplus_"+d.zoneid+"="+c+","+b}}};this.checkTypeCpd=function(b,c){for(var d=!1,e=0;e<c;e++)3==b[e].bannertype&&1==b[e].hidden_ads_stats&&
(d=!0);return d};this.show_views=function(b){b=b.substring(0,b.length-1);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState&&200==c.status)for(var b=JSON.parse(c.responseText),e=b.length,g=0;g<e;g++)d.wirtecountview(parseInt(b[g].view),g)};c.open("GET","//pson.logging.admicro.vn/psmc?i="+b+"&z=v1",!0);c.send()}};this.wirtecountview=function(b,c){if(1<b/1E6){var f=a=Math.floor(b/1E6);a=d.formatIntNumber(a,0);var e=Math.floor(b-1E6*f).toString();e=
6>e.length?0:e.substring(0,1);0==e&&(e="",f="T\u0103ng +"+a+"M views");f="T\u0103ng +"+a+","+e+"M views"}else 1<b/1E3?(f=a=Math.floor(b/1E3),a=d.formatIntNumber(a,0),e=Math.floor(b-1E3*f).toString(),e=3>e.length?0:e.substring(0,1),0==e&&(e="",f="T\u0103ng +"+a+"k views"),f="T\u0103ng +"+a+","+e+"k views"):f="T\u0103ng "+b+" views";document.getElementById("sponsorzone_"+d.zoneid+"_txtviewadv_"+c)?document.getElementById("sponsorzone_"+d.zoneid+"_txtviewadv_"+c).innerHTML=f:window.setTimeout(function(){d.wirtecountview(b,
c)},200)};this.formatIntNumber=function(b,c,d,e){b=b||0;c=isNaN(c=Math.abs(c))?2:c;d=d||".";e=e||",";var f=0>b?"-":"",h=parseInt(b=Math.abs(+b||0).toFixed(c),10)+"",l=3<(l=h.length)?l%3:0;return f+(l?h.substr(0,l)+d:"")+h.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+d)+(c?e+Math.abs(b-h).toFixed(c).slice(2):"")};this.sendUrlViewPlus=function(b,c){d.logCid+=b.cid+",";var f="//lg1.logging.admicro.vn/adn?pt=sp&cov=1&pr="+b.pr+"&items="+b.bid+"&dmn="+encodeURIComponent(d.channel)+__AdmsendRandom+"&zid="+d.zoneid+
"&cmpg="+b.cid+"&cid=-1&re="+encodeURIComponent(b.link)+"&tpn=18&tp="+(2==b.is_view?12:11);if(!ADS_CHECKER.in_array(b.bid,d.banLog)){var e="//lg1.logging.admicro.vn/adn?pt=sp&pr="+b.pr+"&items="+b.bid+"&dmn="+encodeURIComponent(d.channel)+__AdmsendRandom+"&zid="+d.zoneid+"&cmpg="+b.cid+"&cid=-1&tpn=18&tp="+(2==b.is_view?12:11);d.logview.push(e);try{null!=b.tracking_view&&b.tracking_view&&d.logview.push(b.tracking_view)}catch(g){}d.banLog.push(b.bid)}d.cnt==c&&d.show_views(d.logCid);d.cnt++;return f};
this.getScrollTop=function(){var b=document.body.scrollTop;0==b&&(b=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0);return b};this.getElementTop=function(b){if(document.getElementById)var c=document.getElementById(b);else document.all&&(c=document.all[b]);if(null!=c){yPos=c.offsetTop;for(tempEl=c.offsetParent;null!=tempEl;)yPos+=tempEl.offsetTop,tempEl=tempEl.offsetParent;return yPos}return 0};this.timeLog=function(){this.sTimer=-1;d.scroll_time();
window.addEventListener("scroll",d.scroll_time)};this.scroll_time=function(){-1!=d.sTimer&&clearTimeout(d.sTimer);d.sTimer=window.setTimeout(d.scroll_view,500)};this.scroll_view=function(){var b=!1,c=window.innerHeight,f=d.getScrollTop()+c,e=document.getElementById("sponsorzone_"+d.zoneid);if(null!=e){var g=d.getElementTop("sponsorzone_"+d.zoneid),h=g+e.clientHeight/2,l=c/4,m=g+e.clientHeight+l;e=e.clientHeight;0<e&&(b||(0==g?b=!0:0<g&&(e<c?f>h&&f<h+c&&(b=!0):f>g+3*l&&f<m&&(b=!0))));if(b&&!d.sendz&&
document.images&&0<d.logview.length){for(b=0;b<d.logview.length;b++)(new Image).src=d.logview[b];d.sendz=!0}}}};
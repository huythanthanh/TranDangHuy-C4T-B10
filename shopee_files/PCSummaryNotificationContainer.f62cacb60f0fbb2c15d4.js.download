(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{2489:function(e,t,n){e.exports={contentContainer:"_32oZIf",container:"_3OVc7G",buttonsContainer:"Z9w95x",contentImg:"_2UcWyC",contentTxt:"n7nCv0",buttonSignup:"ZI6wag",buttonLogin:"_1b6O3U"}},2490:function(e,t,n){e.exports=n.p+"5a83ec8ec1bc1ea687fdf9c6e68eee0b.png"},2491:function(e,t,n){e.exports={container:"oCaWVh",imageContainer:"_38P8sV",contentContainer:"_1ocGeJ",title:"_3aIzgc",content:"_1rVAuL"}},2492:function(e,t,n){e.exports={container:"_2SEhL1",imageContainer:"_2pvDJp",avatar:"_24_gjS",imagePlaceholder:"_18GHvb",contentContainer:"_2JMQn6",content:"_33fjFM"}},2493:function(e,t,n){e.exports={notiListLabel:"_2qpmpS",notiListLinkViewAll:"_3la0KW"}},2494:function(e,t,n){e.exports={container:"_2Jql4A"}},2844:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(1015),o=n(377);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e){var t=e._ref,n=e.to,a=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["_ref","to"]);return"string"==typeof n&&/^http/.test(n)?i.a.createElement("a",c({href:n,ref:t},a)):i.a.createElement(o.a,c({to:n,innerRef:t},a))}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).handleClick=function(){t.props.trackingClick(),"function"==typeof t.props.onClick&&t.props.onClick()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=(e.trackingClick,e.targetType,e.trackingRef),n=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["trackingClick","targetType","trackingRef"]);return i.a.createElement(l,s({},n,{onClick:this.handleClick,_ref:t}))},a}(i.a.Component);t.a=Object(r.a)(u,"Link",{reportOnce:!0})},2941:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(49),r=n(235),o=n(1807),c=n(823),l=n(2489),s=n.n(l),u=n(2490),p=n.n(u),m=n(26),f=function(e){var t=e.showSignupPopup,n=e.showLoginPopup;return a.createElement("div",{className:s.a.container},a.createElement("div",{className:s.a.contentContainer},a.createElement(c.a,{src:p.a,wrapperClassName:s.a.contentImg,className:s.a.contentImg,useImgTag:!0,hidePlaceholder:!0}),a.createElement("p",{className:s.a.contentTxt},Object(m.m)("noti_label_login_required"))),a.createElement("div",{className:s.a.buttonsContainer},a.createElement("button",{className:s.a.buttonSignup,onClick:t},Object(m.m)("label_signup")),a.createElement("button",{className:s.a.buttonLogin,onClick:n},Object(m.m)("label_login"))))},d=n(164),g=n(1324),b=n(1015),v=n(2),C=n(231),_=n(2491),h=n.n(_),y={};var k=Object(b.a)(a.memo(function(e){var t=e.action,n=e.isUnread,i=e.markNotificationAsRead,r=e.trackingRef,o=e.trackingClick,c=t||y,l=c.images,s=c.title,u=c.content;return a.createElement(g.b.Container,{className:h.a.container,onClick:function(e){e.preventDefault(),o(),n&&i({notiId:t.action_id,notiType:v.j.ACTION,notiSubType:t.action_cate}),C.a.handleClick(t)},isUnread:n,ref:r},a.createElement(g.b.ImageContainer,{className:h.a.imageContainer},a.createElement(g.c,{images:l})),a.createElement(g.b.ContentContainer,{className:h.a.contentContainer},a.createElement("div",{className:h.a.title},s),a.createElement("div",{className:h.a.content,dangerouslySetInnerHTML:{__html:u}})))}),"ActionCard",{reportOnce:!0}),N=Object(i.c)(function(e,t){var n=t.action;return{isUnread:d.e.isNotificationUnread(e,{notiId:n.action_id,notiType:v.j.ACTION,notiSubType:n.action_cate})}},{chatWithUser:m.b.chatWithUser,markNotificationAsRead:d.c.markNotificationAsRead})(k),E=n(2492),I=n.n(E),O={};var w=Object(b.a)(a.memo(function(e){var t=e.activity,n=e.markNotificationAsRead,i=e.isUnread,r=e.itemStore,o=e.userStore,c=e.trackingRef,l=e.trackingClick,s=C.b.getUserAvatarImage(t,{userStore:o}),u=C.b.getDescription(t,{itemStore:r});return a.createElement(g.b.Container,{className:I.a.container,isUnread:i,onClick:function(e){e.preventDefault(),l(),i&&n({notiId:t.activity_id,notiType:v.j.ACTIVITY,notiSubType:t.type}),C.b.handleClick(t)},ref:c},a.createElement(g.b.ImageContainer,{className:I.a.imageContainer},a.createElement(g.a,{avatarImage:s})),a.createElement(g.b.ContentContainer,{className:I.a.contentContainer},a.createElement("div",{className:I.a.content,dangerouslySetInnerHTML:{__html:u}})))}),"ActivityCard",{reportOnce:!0}),j=Object(i.c)(function(e,t){var n=t.activity;return{isUnread:d.e.isNotificationUnread(e,{notiId:n.activity_id,notiType:v.j.ACTIVITY,notiSubType:n.type}),userStore:e.user||O,itemStore:e.item||O}},{markNotificationAsRead:d.c.markNotificationAsRead})(w),T=n(2844),L=n(1806),A=n(497),S=n(2493),U=n.n(S);var V=function(e){var t=e.notifications;return a.createElement(a.Fragment,null,a.createElement("div",{className:U.a.notiListLabel},Object(m.m)("noti_label_recently_received")),a.createElement("div",{className:U.a.notiListContainer},t.map(function(e,t){var n=Object(A.a)(e);if(!n)return null;var i=n.notiType,r=i+"-"+n.notiId;switch(i){case v.j.ACTION:return a.createElement(N,{key:r,action:e,location:t});case v.j.ACTIVITY:return a.createElement(j,{key:r,activity:e,location:t});default:return null}})),a.createElement(T.a,{className:U.a.notiListLinkViewAll,to:L.a,targetType:"NotificationListViewAll"},Object(m.m)("noti_label_view_all")))},R=n(21),P=n(2494),x=n.n(P);var J={updateLastViewedNotification:r.b.updateLastViewedNotification},W=Object(b.a)(function(e){var t=e.trackingRef,n=e.isLoggedIn,i=e.showLoginPopup,r=e.showSignupPopup,c=e.updateLastViewedNotification,l=e.shouldUpdateLastViewedId,s=e.notifications,u=e.progress;a.useEffect(function(){u!==R.b.INIT&&u!==R.b.REQ&&l&&c()},[u,l,c]);var p=s.length>0,m=a.createElement(o.a,null);return n?p||u!==R.b.INIT&&u!==R.b.REQ?p&&(m=a.createElement(V,{notifications:s})):m=a.createElement(o.b,null):m=a.createElement(f,{showLoginPopup:i,showSignupPopup:r}),a.createElement("div",{className:x.a.container,ref:t},m)},"NotificationContainer",{reportOnce:!0});t.default=Object(i.c)(function(e){return{progress:r.d.getAPIProgress(e),shouldUpdateLastViewedId:r.d.shouldUpdateLastViewedId(e)}},J)(W)}}]);
//# sourceMappingURL=https://shopee.sg/assets/PCSummaryNotificationContainer.f62cacb60f0fbb2c15d4.js.map